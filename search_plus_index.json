{"./":{"url":"./","title":"Introduction","keywords":"","body":"å†™åœ¨å‰é¢ æœ¬ä¹¦çš„ç›®çš„æ˜¯ç”¨æ¥è®°å½•å­¦ä¹ é˜…è¯»Vueè¿‡ç¨‹ä¸­çš„ç–‘é—®å’Œæ”¶è·ã€‚Aaronæ‰€åœ¨çš„å…¬å¸æŠ€æœ¯æ ˆå°±æ˜¯Vueï¼Œæ— è®ºæ˜¯ç®¡ç†ç«¯ã€ç§»åŠ¨ç«¯è¿˜æ˜¯å°ç¨‹åºå’Œæ¡Œé¢ç«¯å‡ ä¹æ‰€æœ‰å¤§å¤§å°å°çš„é¡¹ç›®éƒ½æ˜¯ä½¿ç”¨Vueçš„ç”Ÿæ€ï¼Œä½†æ˜¯Aaronåœ¨å†™ä¸šåŠ¡çš„è¿‡ç¨‹ä¸­å¯¹Vueçš„æŒæ¡ä¸€ç›´åœç•™åœ¨ç†Ÿæ‚‰APIçš„å±‚é¢ï¼Œåœ¨é‡åˆ°ç–‘æƒ‘çš„æ—¶å€™ä¹Ÿåªæ˜¯é€šè¿‡æœç´¢å’Œç¤¾åŒºå»è§£å†³éƒ¨åˆ†åœºæ™¯åŒ–çš„é—®é¢˜ï¼Œå¯¹ä¸€äº›æ¦‚å¿µæ€§ã€åŸç†æ€§çš„çŸ¥è¯†ç‚¹ä¸€ç›´æ˜¯æ¨¡ç³Šçš„ï¼Œä¹Ÿæ²¡æœ‰ç³»ç»Ÿåœ°å»å­¦ä¹ å’Œæ¢³ç†ã€‚æ‰€ä»¥åœ¨Aaronçš„è®¡åˆ’ä¸­å°±æœ‰äº†è¿™æœ¬ä¹¦ã€‚ æ€ä¹ˆçœ‹ Aaronç¬¬ä¸€æ¬¡çœ‹è¿™ç§çº§åˆ«çš„æ¡†æ¶ï¼Œçœ‹ä¸æ‡‚æ˜¯ç†æ‰€å½“ç„¶çš„ï¼ˆå…ˆè®¤æ€‚ï¼Œå“ˆå“ˆå“ˆï¼‰ï¼Œæ‰€ä»¥åœ¨å‚é˜…äº†è¿™ç¯‡æ–‡ç« ğŸ‘‰æ¥èŠèŠæºç å­¦ä¹ ä¹‹åï¼ŒAaronæ‰¾åˆ°äº†ä¸‰ä¸ªæŒ‡å¯¼æ€æƒ³ï¼šå…¨ç›˜äº†è§£ã€ä¸»çº¿ä¼˜å…ˆã€é—®é¢˜é©±åŠ¨ã€‚ å…¨ç›˜äº†è§£ é¦–å…ˆä½ è¦å¯¹è¿™ä¸ªå¼€æºé¡¹ç›®è¦æœ‰å…¨ç›˜çš„äº†è§£ï¼ŒçŸ¥é“å®ƒäº§ç”Ÿçš„èƒŒæ™¯ï¼Œæ¥è§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜ã€‚å¼€å§‹çœ‹æºç å‰ï¼Œå…ˆå¯¹å®ƒçš„æºç ç›®å½•ç»“æ„ã€ä»£ç æ‰§è¡Œå…¥å£ã€æ„å»ºæ‰“åŒ…æ–¹å¼ã€æœ€ç»ˆäº§å‡ºçš„æ–‡ä»¶ç­‰ç­‰æœ‰ä¸€ä¸ªæ•´ä½“çš„äº†è§£ã€‚éœ€è¦ç”¨ä¸€ä¸ªå…¨å±€çš„è§†é‡å»å®¡è§†æºç ï¼Œåˆ‡å¿Œæ¼«æ— ç›®çš„çš„çœ‹æºç  ä¸»çº¿ä¼˜å…ˆ å½“æˆ‘ä»¬é€šè¿‡é—®é¢˜é©±åŠ¨å»çœ‹ä»£ç çš„æ—¶å€™ï¼Œè¦ç‰¢è®°ä¸»çº¿ä¼˜å…ˆï¼Œæ‰€è°“ä¸»çº¿å°±æ˜¯è§£å†³ä½ è¿™ä¸ªé—®é¢˜æ ¸å¿ƒæµç¨‹ä¸­çš„ä»£ç ã€‚å› ä¸ºé€šå¸¸ä¸€ä¸ªå¼€æºé¡¹ç›®å®ƒçš„åŠŸèƒ½ä¼šå¾ˆä¸°å¯Œï¼Œæ‰€ä»¥ä»£ç åˆ†æ”¯é€»è¾‘ä¼šæœ‰å¾ˆå¤šã€‚è€Œå½“æˆ‘ä»¬å¸¦ç€é—®é¢˜å»çœ‹æºç çš„æ—¶å€™ï¼Œåˆ‡å¿Œåƒä»£ç æ‰§è¡Œä¸€æ ·æŠŠæ¯ä¸ªåˆ†æ”¯é€»è¾‘éƒ½å»çœ‹ä¸€éï¼Œæˆ‘ä»¬è¦å…³å¿ƒçš„å°±æ˜¯ä¸»çº¿éƒ¨åˆ†ã€‚åˆ†æ”¯é€»è¾‘é€šå¸¸éƒ½æ˜¯ä¸ºäº†è§£å†³æŸäº›ç‰¹å®šåœºæ™¯çš„é—®é¢˜ï¼Œé‚£ä¹ˆå¦‚æœæƒ³å­¦ä¹ å®ƒçš„è¯å°±é’ˆå¯¹è¿™ä¸ªåœºæ™¯åˆ†æçš„æ—¶å€™å†å›æ¥çœ‹å³å¯ã€‚è¿˜æ˜¯ä»¥ Vue.js ä¸ºä¾‹ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨åˆ†ææ¨¡æ¿æ˜¯å¦‚ä½•é©±åŠ¨ DOM æ¸²æŸ“çš„ï¼Œæˆ‘ä»¬åªè¦å…³å¿ƒæ ¸å¿ƒæµç¨‹ init -> mount -> render -> update -> patch è¿™ä¸ªè¿‡ç¨‹çš„å®ç°å³å¯ã€‚é‚£ä¹ˆè¿‡ç¨‹ä¸­é‡åˆ°çš„åˆå§‹åŒ–å“åº”å¼å¯¹è±¡è¿™äº›åˆ†æ”¯é€»è¾‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥å…ˆä¸çœ‹ï¼Œå› ä¸ºå½“å‰åˆ†æçš„è¿™ä¸ªåœºæ™¯å¹¶ä¸ä¼šæœ‰æ•°æ®æ›´æ–°çš„éƒ¨åˆ†ï¼Œè€Œè¿™éƒ¨åˆ†å†…å®¹æˆ‘ä»¬å¯ä»¥æ”¾åˆ°æ·±å…¥ç ”ç©¶å“åº”å¼åŸç†çš„æ—¶å€™å† é—®é¢˜é©±åŠ¨ åœ¨å…¨ç›˜äº†è§£çš„åŸºç¡€ä¸Šï¼Œå°±å¯ä»¥é€šè¿‡é—®é¢˜é©±åŠ¨å»çœ‹æºç äº†ã€‚ä»¥ Vue.js ä¸ºä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“äº†å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯æ•°æ®é©±åŠ¨ + ç»„ä»¶åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é—®è‡ªå·±ï¼ŒVue æ¨¡æ¿çš„æ•°æ®æ˜¯å¦‚ä½•æ¸²æŸ“åˆ° DOM ä¸Šçš„ï¼Œæ•°æ®æ›´æ–°åæ¨¡æ¿æ˜¯å¦‚ä½•é‡æ–°æ¸²æŸ“çš„ï¼Œç»„ä»¶åŒ–æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæ¨¡æ¿åˆ° render å‡½æ•°å¦‚ä½•ç¼–è¯‘çš„ç­‰ç­‰ã€‚é‚£ä¹ˆæ¯ä¸€ä¸ªé—®é¢˜éƒ½å¯ä»¥å€¼å¾—æˆ‘ä»¬é’ˆå¯¹æ€§åœ°å»å­¦ä¹ æºç ã€‚é—®é¢˜é©±åŠ¨çš„æ–¹å¼å’Œå‘é©±åŠ¨ä¸åŒçš„åœ°æ–¹åœ¨äºè¿™ä¸ªå­¦ä¹ è¿‡ç¨‹æ˜¯ä¸»åŠ¨çš„ï¼Œè‡ªé©±çš„ï¼Œå­¦åˆ°çš„ä¸œè¥¿ä¼šæ›´åŠ ç³»ç»Ÿå’Œå…¨é¢ï¼›è€Œå‘é©±åŠ¨å¾€å¾€éƒ½ä¼šæ»¡è¶³äºè§£å†³æŸä¸ªé—®é¢˜å°±åœä¸‹äº†ï¼Œå­¦ä¹ ä¼šæ¯”è¾ƒå±€é™ é˜…è¯»æŠ€å·§ é˜…è¯»æºç ä¹Ÿæ˜¯æœ‰å¾ˆå¤šæŠ€å·§çš„ï¼Œæ¯”å¦‚å…³é”®åœ°æ–¹åŠ æ–­ç‚¹å•æ­¥è°ƒè¯•ã€å¤æ‚å‡½æ•°çœ‹å•å…ƒæµ‹è¯•çš„è¾“å…¥è¾“å‡ºã€å¤æ‚é€»è¾‘é€šè¿‡ç”»å›¾è¾…åŠ©ä»¥åŠè·Ÿéšä½œè€…çš„commitå†å²è®°å½•ã€æŸ¥çœ‹ç¼–è¯‘åçš„ä»£ç ç­‰ æ‰€ä»¥Aaronä¼šå…ˆä»ç¿»ç¤¾åŒºçš„æ–‡ç« å¼€å§‹ï¼Œæ¯”å¦‚å“åº”å¼åŸç†ï¼Œæˆ‘ä¼šå…ˆæ‰¾å‡ ç¯‡å†™å¾—å¥½çš„æ–‡ç« ï¼Œæ€»ç»“æ¢³ç†ä¸€ä¸‹ï¼Œåœ¨è„‘æµ·é‡Œå¯¹å“åº”å¼åŸç†æœ‰ä¸ªå¤§æ¦‚çš„è½®å»“ä¹‹åå†å»æŸ¥çœ‹å¯¹åº”çš„æºç ï¼Œåœ¨Aaronçš„æƒ³è±¡ä¸­å®ƒçš„æ¯ä¸€ä¸ªç« èŠ‚åº”è¯¥ä¼šåƒä¸€ç¯‡ç¯‡åšå®¢æ–‡ç« ä¸€æ ·ï¼Œå…ˆè¯´æ˜æ¦‚å¿µï¼Œç„¶åå†æŸ¥çœ‹Vueçš„å…·ä½“å®ç°ï¼Œç„¶ååŠ ä¸ŠAaronè‡ªå·±çš„è§è§£ï¼ˆå¦‚æœæœ‰ï¼Œå“ˆå“ˆå“ˆï¼‰ã€‚æ‰€ä»¥åœ¨ç« èŠ‚ä¸Šé¢ï¼ŒAaronä¹Ÿæ˜¯ä¼šæ ¹æ®è‡ªå·±çš„æƒ…å†µæœ‰å…ˆåæœ‰é¡ºåºåœ°å»å­¦ä¹ ï¼Œæ¯”å¦‚æˆ‘ç°åœ¨æƒ³å…ˆææ¸…$nextTické‚£æˆ‘å°±å…ˆå»çœ‹$nextTickçš„å†…å®¹ã€‚ ç›®å‰Vueçš„ç¨³å®šç‰ˆæœ¬æ˜¯2.6.10ï¼Œå› æ­¤Aaronå°±åŸºäºè¿™ä¸ªç‰ˆæœ¬å¼€å§‹å­¦ä¹ ã€‚ TODO [ ] å…¨å±€çœ‹Vue [ ] å“åº”å¼åŸç† [ ] ä¾èµ–æ”¶é›† [ ] æ•°æ®ç»‘å®š [ ] VNodeèŠ‚ç‚¹ [ ] Virtual DOMä¸diff [ ] templateç¼–è¯‘ [ ] å¼‚æ­¥æ›´æ–°DOMç­–ç•¥åŠnextTick [ ] keep-aliveç»„ä»¶ä½¿ç”¨åŠå…¶ä½¿ç”¨åŸç† powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-03 14:41:08 "},"å†™åœ¨å‰é¢/æˆ‘çœ¼é‡Œçš„Vue.html":{"url":"å†™åœ¨å‰é¢/æˆ‘çœ¼é‡Œçš„Vue.html","title":"æˆ‘çœ¼é‡Œçš„Vue","keywords":"","body":"Vueæ˜¯ä»€ä¹ˆ Aaronç›®å‰è„‘æµ·ä¸­å¯¹Vueè®¤çŸ¥å¯ä»¥ç”¨ä¸¤ä¸ªå…³é”®è¯æ¥æ¦‚æ‹¬ï¼šå“åº”å¼ã€ç»„ä»¶åŒ–ã€‚å› ä¸ºVueæä¾›äº†ä¾¿åˆ©çš„è„šæ‰‹æ¶å·¥å…·ï¼Œæ‰€æœ‰çš„é¡¹ç›®é€šè¿‡è„šæ‰‹æ¶å¯åŠ¨ä¹‹åï¼Œå·²ç»é›†æˆäº†é‚£ä¸€å¥—å…¨å®¶æ¡¶çš„ä¸œè¥¿ï¼ŒAaronæ‰“ä¸€å¼€å§‹ä½¿ç”¨å°±ä¹ æƒ¯æŠŠVueå½“æˆä¸€ä¸ªæ¡†æ¶è€Œä¸æ˜¯ä¸€ä¸ªåº“ï¼Œè¿™ç§ä¹ æƒ¯å…¶å®å¾ˆä¸å¥½ï¼Œä¸‹é¢é‡æ–°è®¤è¯†ä¸€ä¸‹Vueæ˜¯ä»€ä¹ˆ Vue.jsæ˜¯ä¸€ä¸ªMVVMåº“ Vue.jsæ˜¯ä¸€ä¸ªæä¾›äº†MVVM(Model-View-ViewModel)é£æ ¼çš„åŒå‘æ•°æ®ç»‘å®šçš„Javascriptåº“ï¼Œç”±Viewï¼ŒViewModelï¼ŒModelä¸‰éƒ¨åˆ†ç»„æˆã€‚Viewå±‚ä»£è¡¨çš„æ˜¯è§†å›¾ã€æ¨¡ç‰ˆï¼Œè´Ÿè´£å°†æ•°æ®æ¨¡å‹è½¬åŒ–ä¸ºUIå±•ç°å‡ºæ¥ã€‚Modelå±‚ä»£è¡¨çš„æ˜¯æ¨¡å‹ã€æ•°æ®ï¼Œå¯ä»¥åœ¨Modelå±‚ä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ã€‚ViewModelå±‚è¿æ¥Modelå’ŒViewã€‚ Vueçš„æ ¸å¿ƒåº“Vue.jsåªå…³æ³¨è§†å›¾å±‚ï¼ŒğŸ‘‡ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„èµ·æ­¥ç¤ºä¾‹ï¼š {{ name }} is a boy // Modelå±‚ let data = { name: 'å°æ˜' } // ViewModelå±‚ const app = new Vue({ el: '#app', data: data }) å®ƒæ˜¯åŒå‘æ•°æ®ç»‘å®šçš„ï¼ˆå“åº”å¼ï¼‰ï¼ŒModelå±‚çš„æ•°æ®å˜åŒ–ä¼šè§¦å‘Viewå±‚ä¸Šå¼•ç”¨åˆ°è¯¥æ•°æ®çš„è§†å›¾æ›´æ–°ï¼ŒåŒæ ·åœ¨Viewå±‚ä¸Šå¯¹æ•°æ®è¿›è¡Œæ“ä½œæ¯”å¦‚è¡¨å•çš„è¾“å…¥ï¼ŒModelå±‚çš„æ•°æ®ä¹Ÿä¼šè¢«åŠ¨æ€åœ°ä¿®æ”¹ã€‚ Vueæ¡†æ¶æ”¯æŒæ¨¡å—åŒ–å¼€å‘ Vueæ”¯æŒæ¨¡å—åŒ–å¼€å‘ã€‚åœ¨Vueä¸­å¯ä»¥ä½¿ç”¨Vue.componentç”¨æ¥å®šä¹‰å…¨å±€ç»„ä»¶ï¼Œç´§æ¥ç€ç”¨new Vue({ el: '#container '})åœ¨æ¯ä¸ªé¡µé¢å†…æŒ‡å®šä¸€ä¸ªå®¹å™¨å…ƒç´ ï¼Œä½†æ˜¯ä»…ä»…è¿™æ ·çš„è¯ï¼Œå¦‚æœè¦æ„å»ºä¸€ä¸ªå¤æ‚çš„å•é¡µé¢åº”ç”¨çš„è¯ï¼Œä»£ç ç»„ç»‡èµ·æ¥è¿˜æ˜¯ä¼šå¾ˆéº»çƒ¦ã€‚æ‰€ä»¥Vueæä¾›æ–‡ä»¶æ‰©å±•åä¸º.vueçš„å•æ–‡ä»¶ç»„ä»¶ï¼Œæºç é‡Œé¢çš„sfcç›®å½•çš„åŠŸèƒ½å°±æ˜¯ç”¨æ¥è½¬æ¢*.vueæ–‡ä»¶çš„ï¼Œå†ç»“åˆæ‰“åŒ…æ„å»ºå·¥å…·ï¼Œæˆ‘ä»¬å°±èƒ½æŠŠæ¯ä¸€ä¸ªç»„ä»¶éƒ½æ‹†åˆ†æˆä¸€ä¸ªä¸ªå•æ–‡ä»¶ï¼Œèƒ½å¤Ÿé«˜æ•ˆåœ°å»ç»´æŠ¤ä»¥åŠæ¨¡å—åŒ–åœ°ç»„ç»‡æˆ‘ä»¬çš„é¡¹ç›®ä»£ç ã€‚vue-cliä¸ºæˆ‘ä»¬æä¾›äº†å¿«é€Ÿå¯åŠ¨çš„è„šæ‰‹æ¶ã€‚ Vueæ¡†æ¶å…·æœ‰å®Œæ•´çš„ç”Ÿæ€ Vueé™¤äº†Vue.jsæ ¸å¿ƒåº“å¤–ï¼Œè¿˜æœ‰å®Œæ•´çš„ç”Ÿæ€ï¼Œæ¯”å¦‚å„ç§æ”¯æŒç±»åº“vuexã€vue-routerç­‰ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-03 17:56:18 "},"å†™åœ¨å‰é¢/å¸¸è§çš„MVMå®ç°.html":{"url":"å†™åœ¨å‰é¢/å¸¸è§çš„MVMå®ç°.html","title":"MVM(VM)çš„å®ç°åŸç†","keywords":"","body":"å¸¸è§çš„MVM(VM)çš„å®ç° æˆ‘ä»¬çŸ¥é“Vue.jsæ˜¯ä¸€ä¸ªäº†å®ç°äº†MVVMçš„JavaScriptåº“ã€‚åœ¨ä¸åŒçš„åº“ä¸­ï¼ŒMVM(VM)çš„åŸç†æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€å…±æœ‰ä¸‹é¢ä¸‰ç§ğŸ‘‡ï¼š å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆbackbone.jsï¼‰ è„æ£€æŸ¥æœºåˆ¶ï¼ˆAngular.jsï¼‰ æ•°æ®åŠ«æŒï¼ˆVue.jsï¼‰ å‘å¸ƒ-è®¢é˜…æ¨¡å¼ ä¸€èˆ¬é€šè¿‡sub, pubçš„æ–¹å¼å®ç°æ•°æ®å’Œè§†å›¾çš„ç»‘å®šç›‘å¬ï¼Œæ›´æ–°æ•°æ®æ–¹å¼é€šå¸¸åšæ³•æ˜¯vm.set('property', value)ï¼Œä½†æ˜¯æˆ‘ä»¬æ›´å¸Œæœ›é€šè¿‡vm.property = valueè¿™ç§æ–¹å¼æ›´æ–°æ•°æ®ï¼ŒåŒæ—¶è‡ªåŠ¨æ›´æ–°è§†å›¾ï¼Œä¸‹é¢ä¸¤ç§æ–¹å¼èƒ½å¤Ÿè¾¾åˆ°è¿™ç§æ•ˆæœã€‚ è„æ£€æŸ¥æœºåˆ¶ angular.js æ˜¯é€šè¿‡è„å€¼æ£€æµ‹çš„æ–¹å¼æ¯”å¯¹æ•°æ®æ˜¯å¦æœ‰å˜æ›´ï¼Œæ¥å†³å®šæ˜¯å¦æ›´æ–°è§†å›¾ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯é€šè¿‡ setInterval() å®šæ—¶è½®è¯¢æ£€æµ‹æ•°æ®å˜åŠ¨ï¼Œå½“ç„¶Googleä¸ä¼šè¿™ä¹ˆlowï¼Œangularåªæœ‰åœ¨æŒ‡å®šçš„äº‹ä»¶è§¦å‘æ—¶è¿›å…¥è„å€¼æ£€æµ‹ï¼Œå¤§è‡´å¦‚ä¸‹: DOMäº‹ä»¶ï¼Œè­¬å¦‚ç”¨æˆ·è¾“å…¥æ–‡æœ¬ï¼Œç‚¹å‡»æŒ‰é’®ç­‰ã€‚( ng-click ) XHRå“åº”äº‹ä»¶ ( $http ) æµè§ˆå™¨Locationå˜æ›´äº‹ä»¶ ( $location ) Timeräº‹ä»¶( $timeout , $interval ) æ‰§è¡Œ $digest() æˆ– $apply() æ•°æ®åŠ«æŒ å¯¹æ•°æ®ï¼ˆModelï¼‰è¿›è¡ŒåŠ«æŒï¼ŒVue2.xé€šè¿‡Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterã€getterï¼ŒVue3.0åˆ™é€šè¿‡proxyæ¥â€œæ‹¦æˆªâ€å¯¹å„ä¸ªå±æ€§çš„çš„è®¾ç½®å’Œå¼•ç”¨ï¼Œå½“æ•°æ®å˜åŠ¨çš„æ—¶å€™å°±ä¼šè§¦å‘åŠ«æŒæ—¶ç»‘å®šçš„äº‹ä»¶ï¼Œå»æ‰§è¡Œè§†å›¾æ›´æ–°çš„æ“ä½œã€‚ Vueçš„å®ç°æ–¹å¼ æ•°æ®åŠ«æŒ + å‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼ã€‚é€šè¿‡æ•°æ®åŠ«æŒï¼Œå½“æ•°æ®å˜åŠ¨çš„æ—¶å€™å°±å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘å“åº”çš„ç›‘å¬å›è°ƒã€‚ æ€è€ƒğŸ¤”ï¼šVueä¸ºå•¥è¦åŒæ—¶ä½¿ç”¨ï¼šæ•°æ®åŠ«æŒ + å‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼ï¼Ÿ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-03 17:58:43 "},"å†™åœ¨å‰é¢/Vue.jsè¿è¡Œæœºåˆ¶.html":{"url":"å†™åœ¨å‰é¢/Vue.jsè¿è¡Œæœºåˆ¶.html","title":"â˜… Vue.jsè¿è¡Œæœºåˆ¶","keywords":"","body":"Vue.jsçš„è¿è¡Œæœºåˆ¶ æŒ‡å¯¼æ€æƒ³ï¼Œç…§æ¬è‡ªç¤¾åŒºğŸ‘‡ï¼š powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-03 14:44:01 "},"å†™åœ¨å‰é¢/ç›®å½•ç»“æ„.html":{"url":"å†™åœ¨å‰é¢/ç›®å½•ç»“æ„.html","title":"æºç çš„ç›®å½•ç»“æ„","keywords":"","body":"ç›®å½•ç»“æ„ forké¡¹ç›®ä¸‹æ¥ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š ç›®å½•ç»“æ„.zip é˜…è¯»æºç çš„æ—¶å€™æˆ‘ä»¬åªè¦å…³æ³¨src ç›®å½•é‡Œé¢çš„ä»£ç å°±å¯ä»¥äº†ï¼ŒåŒæ—¶flow æ–‡ä»¶å¤¹é‡Œé¢æœ‰å¯¹åº”çš„ç±»å‹å£°æ˜ï¼Œä¸€èˆ¬ä¸ä¼šå»ä¸»åŠ¨ç¿»ï¼Œåœ¨IDEé‡Œé¢è£…ä¸Šå¯¹åº”çš„æ’ä»¶ä¹‹åï¼Œå®ƒèƒ½å¤Ÿè‡ªåŠ¨å¸®æˆ‘ä»¬åšç±»å‹æ ¡éªŒï¼Œä»¥åŠé¼ æ ‡ç§»åŠ¨åˆ°å£°æ˜è¿‡çš„å¯¹è±¡ä¸Šçš„æ—¶å€™è¿˜èƒ½è¿›è¡Œæ™ºèƒ½æç¤ºï¼Œå¯¹æˆ‘ä»¬é˜…è¯»ä»£ç ä¹Ÿæœ‰å¸®åŠ©ã€‚ ğŸ¤”è¿™é‡Œæœ‰ä¸ªç–‘é—®ï¼šä¸ºå•¥flowå’Œtsä¼šåŒæ—¶å­˜åœ¨ï¼Ÿ æˆ‘å¿«é€Ÿæµè§ˆäº†ä¸€ä¸‹ï¼Œå‘ç°flowé‡Œæœ‰çš„å£°æ˜ï¼Œ.d.tsé‡Œé¢å¥½åƒä¹Ÿæœ‰å¯¹åº”çš„å£°æ˜ testå‘½ä»¤é‡Œé¢åŒæ—¶æ‰§è¡Œflow check å’Œ tsc ï¼Œä½†æ˜¯tscåªå¯¹types é‡Œé¢çš„.tsæ–‡ä»¶åšæµ‹è¯• é¡¹ç›®é‡Œé¢é™¤äº†types å’Œpackages æœ‰éƒ¨åˆ†.ts æ–‡ä»¶ï¼Œå…¶ä»–éƒ½æ˜¯.js æ–‡ä»¶ï¼Œè™½ç„¶tsä¹Ÿå¯ä»¥å¯¹jsæ–‡ä»¶åšæ ¡éªŒï¼Œä½†æ˜¯å·²ç»æœ‰äº†flowä¸è‡³äºè¿™ä¹ˆéªšçš„æ“ä½œå§ æœ€åæ‰å‘ç°ï¼ŒåŸæ¥types æ˜¯å®˜æ–¹çš„ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œä¸€åŒæ”¾åœ¨è¿™é‡Œç»´æŠ¤çš„ï¼Œè·ŸVueæºç å¼€å‘æ²¡å•¥å…³ç³»ï¼Œå½“ä½ æƒ³åœ¨Vueé¡¹ç›®é‡Œé›†æˆtsçš„æ—¶å€™ï¼Œæ‹‰ä¸‹æ¥çš„å£°æ˜æ–‡ä»¶å°±æ˜¯è¿™ä»½ğŸ¤¦â€ï¼Œæ‰€ä»¥types æ–‡ä»¶å¤¹åœ¨æˆ‘ä»¬é˜…è¯»æºç çš„æ—¶å€™ä¹Ÿæ˜¯å¿½ç•¥çš„ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-03 11:38:28 "},"å“åº”å¼ç³»ç»Ÿ/å‰ç½®çŸ¥è¯†.html":{"url":"å“åº”å¼ç³»ç»Ÿ/å‰ç½®çŸ¥è¯†.html","title":"å‰ç½®çŸ¥è¯†","keywords":"","body":"å‰ç½®çŸ¥è¯† Vue.jsæ˜¯é€šè¿‡æ•°æ®åŠ«æŒ + å‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼æ¥å®ç°å“åº”å¼åŠŸèƒ½çš„ã€‚ Object.defineProperty Object.defineProperty() æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œ å¹¶è¿”å›è¿™ä¸ªå¯¹è±¡ã€‚ é€šè¿‡Object.defineProperty()ç»™æŸä¸ªå±æ€§è®¾ç½®getå’Œsetå°±å¯ä»¥åŠ«æŒè¯¥å±æ€§çš„è¯»å†™è¿‡ç¨‹ï¼Œå…·ä½“çš„apiä½¿ç”¨æˆ‘ä»¬ä¸å±•å¼€ï¼ˆMDNä¼ é€é—¨ï¼‰ï¼Œç°åœ¨ä½¿ç”¨Object.definePropertyå†™ä¸ªç®€å•çš„å°demoï¼Œæ¥åŠ«æŒä¸€ä¸ªå¯¹è±¡çš„å±æ€§èµ‹å€¼å’Œå–å€¼è¿‡ç¨‹ğŸ‘‡ function Store() { let data = null; Object.defineProperty(this, 'data', { get: function() { console.log('æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è¯»å–æ•°æ®'); // æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è¯»å–æ•°æ® return data; }, set: function(val) { console.log('æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è®¾ç½®æ•°æ®'); // æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è®¾ç½®æ•°æ® data = val; } }); } let store = new Store(); store.data = 'Hi'; console.log(store.data) // Hi Object.definePropertyçš„å±€é™ Object.definePropertyåªèƒ½åŠ«æŒå¯¹è±¡çš„æŸä¸€ä¸ªå±æ€§ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æœ‰åµŒå¥—çš„å¯¹è±¡æ—¶ï¼Œåªèƒ½é€šè¿‡é€šè¿‡é€’å½’å»ç»™æ¯ä¸€ä¸ªå±æ€§è®¾ç½®æ‹¦æˆª Object.definePropertyå¹¶ä¸èƒ½åŠ«æŒArray.prototypeä¸Šçš„æ–¹æ³•ã€‚æ¯”å¦‚è¿˜æ˜¯ä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œå½“dataæ˜¯ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œå¯¹dataè°ƒç”¨pushã€popç­‰æ•°ç»„åŸå‹ä¸Šçš„æ–¹æ³•çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šè§¦å‘setter: function Store() { let list = []; Object.defineProperty(this, 'list', { get: function() { console.log('æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è¯»å–æ•°æ®'); // æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è¯»å–æ•°æ® return list; }, set: function(val) { console.log('âš ï¸pushæ“ä½œå¹¶æ²¡æœ‰è¢«æ‹¦æˆªåˆ°'); list = val; } }); } let store = new Store(); store.list.push(1); console.log(store.list); // [1] å¦‚ä½•åŠ«æŒæ•°ç»„ä¸Šçš„æ–¹æ³• æ—¢ç„¶setteré‡Œé¢æ‹¦æˆªä¸åˆ°åŸå‹é“¾ä¸Šçš„æ–¹æ³•ï¼Œé‚£å°±é’ˆå¯¹æ•°ç»„åŸå‹é“¾ä¸Šçš„éœ€è¦è¢«æ‹¦æˆªçš„æ–¹æ³•è¿›è¡ŒäºŒæ¬¡å°è£…ã€‚ function newArrMethod() { // å…ˆæŠŠæ•°ç»„ä¸Šçš„æ–¹æ³•å¤åˆ¶ä¸€é let arrExtend = Object.create(Array.prototype); // ç„¶åæŠŠéœ€è¦æ”¹å†™çš„æ–¹æ³•é‡æ–°å°è£…ï¼Œæ¯”å¦‚ä¸‹é¢å¯¹pushæ–¹æ³•è¿›è¡Œé‡æ–°å°è£… let newPushMethod = function(...args) { console.log('åœ¨è¿™é‡Œåšæ‹¦æˆª'); Array.prototype.push.apply(this, args); } arrExtend.push = newPushMethod; return arrExtend; } let arr = []; arr.__proto__ = newArrMethod(); arr.push(1); // arrçš„pushæ–¹æ³•è¢«åŠ«æŒåˆ°äº† Proxy Proxy å¯¹è±¡ç”¨äºå®šä¹‰åŸºæœ¬æ“ä½œçš„è‡ªå®šä¹‰è¡Œä¸ºï¼ˆå¦‚å±æ€§æŸ¥æ‰¾ï¼Œèµ‹å€¼ï¼Œæšä¸¾ï¼Œå‡½æ•°è°ƒç”¨ç­‰ï¼‰ Proxyï¼ˆMDNä¼ é€é—¨ï¼‰å­—é¢æ„æ€æ˜¯ä»£ç†ï¼Œå¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚ \"æ‹¦æˆª\"ï¼Œå½“å¤–ç•Œå¯¹è¯¥å¯¹è±¡è®¿é—®çš„æ—¶å€™ï¼Œéƒ½å¿…é¡»ç»è¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤ç›´æ¥ä½¿ç”¨è¿™ä¸ªapiå°±èƒ½å¤Ÿè¾¾åˆ°å¯¹è±¡åŠ«æŒçš„æ•ˆæœï¼Œvue2.*ä¹‹æ‰€ä»¥ä¸ç”¨Proxyè€Œä½¿ç”¨Object.definePropertyæ˜¯å› ä¸ºProxyæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„ç‰¹æ€§ï¼Œè€ƒè™‘åˆ°æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ï¼Œæ‰€ä»¥æ²¡æœ‰è¢«å°¤å¤§ä½¿ç”¨ã€‚åœ¨vue3.0å·²ç»æŠŠObject.definePropertyæ›¿æ¢ä¸ºproxyï¼Œä¸‹é¢ä½¿ç”¨proxyæ¥å†™ä¸€ä¸ªåŠ«æŒğŸ‘‡ let data = {}; data = new Proxy(data, { get: function(target, key) { console.log('æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è¯»å–æ•°æ®'); return target[key]; }, set: function(target, key, val) { console.log('æ‹¦æˆªåˆ°äº†ï¼Œä½ åœ¨è®¾ç½®æ•°æ®'); target[key] = val; } }) data.name = 'å°æ˜'; console.log(data.name); å‘å¸ƒ-è®¢é˜…è€…æ¨¡å¼ Vue.jsé‡Œé¢çš„ä¾èµ–æ”¶é›†æ˜¯é€šè¿‡å‘å¸ƒ-è®¢é˜…æ¨¡å¼æ¥å®ç°çš„ï¼Œè¿™ç§è®¾è®¡æ¨¡å¼åœ¨å‰ç«¯ç»å¸¸ä½¿ç”¨ï¼Œæ¯”å¦‚document.addEventListenerå°±æ˜¯å¾ˆå…¸å‹å‘å¸ƒ-è®¢é˜…è€…åº”ç”¨ã€‚ä¸€èˆ¬æ¥è¯´å‘å¸ƒ-è®¢é˜…æ¨¡å¼æœ‰è¿™å‡ ä¸ªè¦ç´ ï¼š æœ‰ä¸€ä¸ªæŒ‡å®šçš„å‘å¸ƒè€… å‘å¸ƒè€…æœ‰ä¸€ä¸ªç¼“å­˜åˆ—è¡¨ï¼Œé‡Œé¢å­˜æœ‰æ‰€æœ‰è®¢é˜…è€…çš„å›è°ƒå‡½æ•° å‘å¸ƒæ¶ˆæ¯çš„æ—¶å€™ï¼Œå‘å¸ƒè€…éå†ç¼“å­˜åˆ—è¡¨ï¼Œä¾æ¬¡è§¦å‘è®¢é˜…è€…çš„å›è°ƒ ğŸ‘‡ä¸‹é¢å®ç°ä¸€ä¸ªå…¸å‹çš„å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ class Event { constructor() { this.subscriberList = []; } listen(key, fn) { if (!this.subscriberList[key]) { this.subscriberList[key] = []; } this.subscriberList[key].push(fn); } notify() { let key = Array.prototype.shift.call(arguments); let fns = this.subscriberList[key]; fns && fns.forEach(fn => fn.apply(this, arguments)); } remove(key, fn) { let fns = this.subscriberList[key]; if (fns) { for (let i = fns.length - 1; i >= 0; i--) { let _fn = fns[i]; if (_fn == fn) { fns.splice(i, 1); } } } } } let event = new Event(); event.listen(\"sayHi\", function(name) { console.log(\"Hiï¼Œ\" + name); }); event.listen(\"sayHallo\", function(name) { console.log(\"Halloï¼Œ\" + name); }); event.notify(\"sayHi\", \"å°æ˜\"); event.notify(\"sayHallo\", \"å°çº¢\"); powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-04 01:17:42 "},"å“åº”å¼ç³»ç»Ÿ/æ•°æ®åŠ«æŒ.html":{"url":"å“åº”å¼ç³»ç»Ÿ/æ•°æ®åŠ«æŒ.html","title":"æ•°æ®åŠ«æŒ","keywords":"","body":"æ•°æ®åŠ«æŒ æ•°æ®åŠ«æŒ powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-03 18:06:53 "},"å“åº”å¼ç³»ç»Ÿ/ä¾èµ–æ”¶é›†.html":{"url":"å“åº”å¼ç³»ç»Ÿ/ä¾èµ–æ”¶é›†.html","title":"ä¾èµ–æ”¶é›†","keywords":"","body":"ä¾èµ–æ”¶é›† powered by Gitbookè¯¥æ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2019-08-03 18:07:06 "}}